apiVersion: v1
kind: ConfigMap
metadata:
  name: phishing-config
  namespace: phishing-detection
data:
  ENVIRONMENT: production
  LOG_LEVEL: INFO
  API_HOST: 0.0.0.0
  API_PORT: "8000"
  DASHBOARD_PORT: "3000"
  PROMETHEUS_ENABLED: "true"
  JAEGER_ENABLED: "false"
  CACHE_TTL: "3600"
  MAX_WORKERS: "4"
  REQUEST_TIMEOUT: "30"
  ENABLE_REAL_TIME_MONITORING: "true"
  ENABLE_BROWSER_EXTENSION: "true"
  ENABLE_EMAIL_SCANNING: "true"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: prometheus-config
  namespace: phishing-detection
data:
  prometheus.yml: |
    global:
      scrape_interval: 15s
      evaluation_interval: 15s
    alerting:
      alertmanagers:
        - static_configs:
            - targets: []
    rule_files:
      - "alert_rules.yml"
    scrape_configs:
      - job_name: 'prometheus'
        static_configs:
          - targets: ['localhost:9090']
      - job_name: 'phishing-api'
        static_configs:
          - targets: ['phishing-api:8000']
        metrics_path: '/metrics'
      - job_name: 'phishing-dashboard'
        static_configs:
          - targets: ['phishing-dashboard:3000']

